-
  var _menuItems = {
    all: [
      {
        text: 'Collectives',
        title: 'Browse The Collectives',
        url: null,
      },
      {
        text: 'Tools and Services',
        title: 'Browse Our Tools and Services',
        url: routeMappings.DisputeTools.url(),
      },
      {
        text: 'Donate',
        title: 'Support Us',
        url: null,
        parentClassName: 'pr3'
      },
    ],
    loggedOut: [
      {
        text: 'Join Us',
        title: 'Join Us',
        url: routeMappings.signup.url(),
        className: 'js-signup-link -primary',
        parentClassName: 'px2 pl4'
      },
      {
        text: 'Log In',
        title: 'Log In',
        url: routeMappings.login.url(),
        className: 'js-login-link',
        parentClassName: 'pl2'
      },
    ]
  }

mixin headerLink(href, name, responsive = false)
  - var _className = 'Header__link -fw-700 flex items-center -fh'
  if responsive
    - _className = 'ResponsiveMenu__link -fw-700 block'
  if (href === currentURL) || (currentURL.startsWith(href))
    - _className += ' active'
  if href === '/dispute-tools' && currentURL.startsWith('/disputes')
    - _className += ' active'
  a(href!=href, class=_className, title=name)&attributes(attributes)= name

mixin mixinHeaderNav(responsive)
  if responsive
    ul.list-reset.pt1.center
      each item in _menuItems.all
        li: +headerLink(item.url, item.text, true)(class='px2 py1')
      unless currentUser
        each item in _menuItems.loggedOut
          li: +headerLink(item.url, item.text, true)(class='px2 py1')
      else
        li.mt3: +headerLink(routeMappings.Users.show.url(currentUser.id), 'Profile and tools', true)(class='px2 py1')
        li: +headerLink(routeMappings.Users.edit.url(currentUser.id), 'Edit profile', true)(class='px2 py1')
        li
          form(method="post" action=routeMappings.logout.url())
            input(type="hidden" name="_csrf" value=csrfToken)
            input(type="hidden" name="_method" value="DELETE")
            button.ResponsiveMenu__link.center.btn-clear.px2.py1.left-align.-fw.-fw-700(type="submit") Logout

  else
    ul.list-reset.flex.items-center.-fh.sm-hide.xs-hide
      each item in _menuItems.all
        li.px2.-fh(class= item.parentClassName): +headerLink(item.url, item.text)
      unless currentUser
        each item in _menuItems.loggedOut
          li.-fh(class= item.parentClassName): +headerLink(item.url, item.text)(class= item.className)
      else
        li.px2.pl4
          .Dropdown.-has-dropdown(data-component-dropdown)
            button.Dropdown__head.-fw-700
              span.Dropdown__label.inline-block.align-middle.-ell #{currentUser.account.fullname}
            ul.Dropdown__body(aria-hidden="true" aria-label="submenu")
              li: a.Header__dropdown-item(href=routeMappings.Users.show.url(currentUser.id) role="button" tabindex="0") Profile and tools
              li: a.Header__dropdown-item(href=routeMappings.Users.edit.url(currentUser.id) role="button" tabindex="0") Edit profile
              li
                form(method="post" action=routeMappings.logout.url())
                  input(type="hidden" name="_csrf" value=csrfToken)
                  input(type="hidden" name="_method" value="DELETE")
                  button.Header__dropdown-item(type="submit") Logout

    ul.list-reset.flex.items-center.-fh.md-hide.lg-hide
      li: button.js-hamburger-menu.-white.-k-btn.btn-link(style="padding: 13px 0 13px 16px;")
        svg(viewBox="0 0 32 32" width="32" height="32" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="6.25%")
          path(d="M4 8 L28 8 M4 16 L28 16 M4 24 L28 24")
        span.sr-only Toogle navigation
