{
  /**
   * Application configuration section
   * http://pm2.keymetrics.io/docs/usage/application-declaration/
   */
  apps : [
    {
      name: 'TDC',
      script: 'bin/server.js',
      watch: false,
      instances: 1,
      exec_mode: 'fork',
      env_staging: {
        NODE_ENV: 'staging'
      },
      env_production: {
        NODE_ENV: 'production'
      }
    },
  ],

  deploy: {
    staging : {
      user : "deploy",
      host : "staging.debtcollective.org",
      ref  : "origin/master",
      repo : "git@gitlab.com:empathia/debtcollective.git",
      path : "/home/deploy/apps/tdc",
      "post-deploy" : "./scripts/post_deploy_staging"
    },

    production : {
      user: "deploy",
      // TODO: move to new.debtcollective.org (then www.)
      host: 'new.debtcollective.org',
      ref  : "origin/master",
      repo : "git@gitlab.com:empathia/debtcollective.git",
      path : "/home/deploy/apps/tdc",
      "post-deploy" : "./scripts/post_deploy_production"
    }
  }
}
